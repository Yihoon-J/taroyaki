<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAROYAKI</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    <link rel="stylesheet" href="tarotchat_style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Rose:wght@300..700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/favicon_2.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <style>
        body { 
            font-family: 'Pretendard Variable'; 
            margin: 0; padding: 0; 
            display: flex;
            overflow: hidden;
            height: 100vh;
        }
    </style>
</head>

<body>
    <div id="mainContent">
        <div id="sidebar" class="expanded">
            <div id="TitleBox">
                <div id="Maintitle">
                    <div id="Mainlogo"></div>
                    <div id="MainTitleText">TAROYAKI</div>
                </div>
                <button id="collapseBtn">
                    <span id="collapseBtnIcon"></span>
                </button>
            </div>
            <div class="divLine"></div>
            <button id="newChatButton">
                <span id="newChatButtonIcon"></span>
                <span id=""newChatButtonText">새 대화 시작</span>
            </button>        
            <div class="divLine"></div>
            <div id="sessionList"></div>
            <button id="SettingsButton">
                <span id="SettingsButtonIcon"></span>
                <span id="SettingsButtonText">설정</span>
            </button>
        </div>
        <div id="collapsedSidebar" class="collapsed" style="display: none;">
            <div id="collapsedlogo">
                <div id="collapsedlogoimg"></div>
            </div>
            <button id="expandBtn">
                <div id="expandBtnIcon"></div>
            </button>
            <div class="divLine"></div>
            <button id="collapsedNewChatBtn">
                <div id="collapsedNewChatBtnIcon"></div>
            </button>
            <div class="divLine"></div>
            <button id="collapsedSettingsBtn">
                <div id="collapsedSettingsBtnIcon"></div>
            </button>
          </div>
          <div id="settings" class="modalA">
            <div class="modalA-content">
                <div class="modalA-header">
                    <h2 id="modalAtitle">Setting</h2>
                    <button class="settingsclose">
                        <div id="settingscloseicon"></div>
                    </button>
                </div>
                <div class="divLine"></div>
                <div id="settingsbody">
                    <div class="modalAbody">
                        <div class="emptyspace"></div>
                        <div class="settingsbodytitle">계정 정보</div>
                        <div id="userinfo2" class="settingsbodytext"></div>
                        <span id="userDetails" class="settingsbodytext"></span>
                        <div class="emptyspace"></div>
                        <div class="settingsbodytitle">데이터 관리</div>
                        <span id="exportbtn" class="settingsbodytext">* 준비중입니다.</span>
                        <span id="reset" class="settingsbodytext"></span>
                        <div class="emptyspace"></div>
                        <div class="settingsbodytitle">크레딧</div>
                        <a id="heemcredit" class="settingsbodytext" href="https://www.linkedin.com/in/%ED%9D%AC%EA%B2%BD-%EA%B9%80-780a4b23b/">heem</a>
                        <span id="creditseparator" class="settingsbodytext"> /</span>
                        <a id="yihooncredit"class="settingsbodytext" href="https://www.linkedin.com/in/yihoon-j/">yihoon</a>
                    </div>
                </div>
            </div>
        </div>
        <div id="profileModal" class="modalB">
            <div class="modalB-content">
                <div id="userinfo1"></div>
                <button id="settingbtnB">Setting</button>
                <button id="logoutbtn">Logout</button>
            </div>
        </div>
        <div id="deleteSessionModal" class="modalC">
            <div class="modalC-content">
                <div id="modalC-title">대화를 삭제하시겠습니까?</div>
                <div class="divLine"></div>
                <div id="modalC-text">삭제한 대화는 되돌릴 수 없습니다.</div>
                <div id="modalC-btns">
                    <button id="cancelDelete">취소</button>
                    <button id="confirmDelete">삭제하기</button>
                </div>
            </div>
        </div>
        <div id="serviceguide">
            <div id="GuideTitle">
                <div id="GuideTitleIcon"></div>
                <div id="GuideTitleText">타로야끼에게 물어보는 방법</div>
            </div>
            <div id="Guidebody">
                <div id="Betaguide">
                    <div id="guide0title">베타테스트 중입니다.</div>
                    <li class="g2li">안내받은 URL을 외부에 배포하지 말아주세요.</li>
                    <li class="g2li">문제가 발생한 경우 개발자 도구 콘솔(F12)과 함께 스크린샷을 보내 주시면 도움이 됩니다.</li>
                </div>
                <div id="Guide1">
                    <div id="guide1title">내가 현재 처해 있는 상황과 고민을 자세히 작성할수록 리딩이 정확해져요.</div>
                    <div class="guidetext">(X) 연애운을 알려 줘.</br>(X) 취직할 수 있을까?</div>
                    <div class="guidetext">(O) 면접본 두 곳에서 합격했는데, 하나는 대기업이고 나랑 잘 맞는 직무가 아니야. 다른 하나는 스타트업이지만 내가 잘 할 것 같은 직무야. 어느 기업을 고르는 게 좋을까?</div>
                    <div class="guidetext">(O) 나는 프로덕트 디자이너로 취업을 준비 중인데, 올 하반기에 내가 원하는 기업에 취업할 수 있을지 궁금해.</div>
                </div>
                <div id="Guide2">
                    <div id="guide2title">타로야끼는 뽑은 카드를 한 번에 해석합니다. 각각의 카드 이미지나 해석 근거에 대해 궁금할 경우 상세한 해석을 추가 질문해주세요.</div>
                    <li class="g2li">'card name'의 일반적 의미가 궁금해.</li>
                    <li class="g2li">'card name'카드 이미지의 어떤 부분에서 이렇게 해석할 수 있는지 해석 근거가 궁금해.</li>
                    <li class="g2li">'card name'카드를 '연애운/직업운/재물운...'로 볼 때는 어떻게 해석하는지 궁금해.</li>
                    <li class="g2li">'card name'이 말해줄 수 있는 현실적인 조언은 어떤 게 있을까?</li>
                </div>
                <div id="Guide3">
                    <div id="guide3title">대화가 너무 길어지면 답변이 부정확해질 수 있어요.</div>
                    <div class="guidetext">최소한의 대화로 자신의 상황에 대해 최대한 많은 정보를 제공해 주세요.</div>
                    <div class="guidetext">대화가 길어진다면 새로운 세션에서 이야기를 나눠 보세요.</div>
                </div>
            </div>
        </div>
        <div id="contentWrapper">
            <div id="chatBox">
            </div>
                <button id="ProfileBtn"></button>
                <div id="beforelogin">
                    <div id="bl_logo"></div>
                    <div id="bl_title">TAROYAKI</div>
                    <div id="bl_subtitle">AI 타로 선생님과 함께 다양한 상황에 따른 타로 리딩을 공부해요</div>
                    <div id="example_questions">
                        <div id="extext1">이번 하반기 연애운이 궁금해요.</div>
                        <div id="extext2">A와 B중에 무엇을 선택하는게 좋을까요?</div>
                        <div id="extext3">이번에 면접 본 두 곳 중에 어디를 선택하는게 좋을 지 궁금해요.</div>
                    </div>
                    <button id="LoginBtn"></button>
                </div>
                <button id="drawTarotBtn">
                    <div id="drawTarotBtnIcon"></div>
                    <span id="drawTarotBtnText">카드 뽑기</span>
                </button>
            <div id="inputArea">
                <input type="text" id="messageInput" placeholder="고민상황을 자유롭게 물어보세요.">
                <button id="SendButton">
                    <div id="SendButtonIcon"></div>
                </button>
            </div>
            <div id="tarotBottomSheet" class="bottom-sheet">
                <div class="bottom-sheet-content">
                    <div class="bottom-sheet-body">
                        <div class="tarot-buttons">
                            <button id="drawOneBtn">1장 뽑기</button>
                            <button id="drawThreeBtn">3장 뽑기</button>
                        </div>
                        <div class="tarot-result-container">
                            <div id="tarotResult" contenteditable="false" placeholder="카드를 뽑아주세요"></div>
                            <button id="copyResultBtn" disabled>
                                <div id="copyResultIcon"></div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="warningmsg">
                <p>타로야끼는 아직 익히는 중이에요. 답변에서 실수가 있을 수 있어요.</p>
            </div>
        </div>
    </div>
    <script type="importmap">
        {
          "imports": {
            "aws-amplify": "https://cdn.jsdelivr.net/npm/aws-amplify@5.3.12/dist/esm/index.mjs"
          }
        }
    </script>
    <script type="module" src="/taroyaki_service.js"></script>
    <div id="toastMessage" class="toast-message">복사되었습니다</div>
    <div id="tarotCardAutocomplete" class="autocomplete-modal">
        <div class="autocomplete-header">
            <span>카드명 입력</span>
            <span class="autocomplete-hint">↑↓ 이동 / Enter 선택 / Esc 닫기</span>
        </div>
        <div class="autocomplete-content">
            <ul id="cardSuggestionList"></ul>
        </div>
    </div>
</body>
</html>
